

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Framework.ClassUtils.testdata_class &mdash; Warrior Ninja documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="Warrior Ninja documentation" href="../../../index.html"/>
        <link rel="up" title="Module code" href="../../index.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../warrior_index.html" class="icon icon-home"> Warrior
          

          
          </a>

          
            
            
              <div class="version">
                Ninja
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Actions.html">Actions package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Framework.html">Framework package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../warrior_index.html">Warrior</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../warrior_index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
      <li>Framework.ClassUtils.testdata_class</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for Framework.ClassUtils.testdata_class</h1><div class="highlight"><pre>
<span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">Copyright 2017, Fujitsu Network Communications, Inc.</span>
<span class="sd">Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="sd">you may not use this file except in compliance with the License.</span>
<span class="sd">You may obtain a copy of the License at</span>
<span class="sd">http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="sd">Unless required by applicable law or agreed to in writing, software</span>
<span class="sd">distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="sd">WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="sd">See the License for the specific language governing permissions and</span>
<span class="sd">limitations under the License.</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Module that has all tetdata related class and methods</span>
<span class="sd">&quot;&quot;&quot;</span>


<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">xml.etree</span> <span class="k">import</span> <span class="n">ElementTree</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">OrderedDict</span>

<span class="kn">from</span> <span class="nn">Framework.Utils</span> <span class="k">import</span> <span class="n">xml_Utils</span><span class="p">,</span> <span class="n">string_Utils</span>
<span class="kn">from</span> <span class="nn">Framework.Utils.testcase_Utils</span> <span class="k">import</span> <span class="n">pNote</span>
<span class="kn">from</span> <span class="nn">Framework.Utils.print_Utils</span> <span class="k">import</span> <span class="n">print_error</span><span class="p">,</span> <span class="n">print_exception</span><span class="p">,</span>\
<span class="n">print_debug</span><span class="p">,</span> <span class="n">print_warning</span>
<span class="kn">from</span> <span class="nn">Framework.ClassUtils.configuration_element_class</span> <span class="k">import</span> <span class="n">ConfigurationElement</span>

<span class="c1"># Always keep &#39;repeat_list&#39; as a last key for CMD_PARAMS dictionary</span>
<span class="n">CMD_PARAMS</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([(</span><span class="s2">&quot;command_list&quot;</span><span class="p">,</span> <span class="s2">&quot;send&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;sys_list&quot;</span><span class="p">,</span> <span class="s2">&quot;sys&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;session_list&quot;</span><span class="p">,</span> <span class="s2">&quot;session&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;startprompt_list&quot;</span><span class="p">,</span> <span class="s2">&quot;start&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;endprompt_list&quot;</span><span class="p">,</span> <span class="s2">&quot;end&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;verify_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">,</span> <span class="s2">&quot;search&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;verify_context_list&quot;</span><span class="p">,</span> <span class="s2">&quot;found&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;timeout_list&quot;</span><span class="p">,</span> <span class="s2">&quot;timeout&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;sleeptime_list&quot;</span><span class="p">,</span> <span class="s2">&quot;sleep&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;retry_list&quot;</span><span class="p">,</span> <span class="s2">&quot;retry&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;retry_timer_list&quot;</span><span class="p">,</span> <span class="s2">&quot;retry_timer&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;retry_count_list&quot;</span><span class="p">,</span> <span class="s2">&quot;retry_count&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;retry_onmatch_list&quot;</span><span class="p">,</span> <span class="s2">&quot;retry_onmatch&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;resp_ref_list&quot;</span><span class="p">,</span> <span class="s2">&quot;resp_ref&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;resp_req_list&quot;</span><span class="p">,</span> <span class="s2">&quot;resp_req&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;resp_pat_req_list&quot;</span><span class="p">,</span> <span class="s2">&quot;resp_pat_req&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;log_list&quot;</span><span class="p">,</span> <span class="s2">&quot;monitor&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;verify_on_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_on&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;inorder_search_list&quot;</span><span class="p">,</span><span class="s2">&quot;inorder&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;vc_file_list&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;verify_map_list&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s2">&quot;repeat_list&quot;</span><span class="p">,</span><span class="s2">&quot;repeat&quot;</span><span class="p">)])</span>


<span class="n">VERIFY_PARAMS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;verify_context_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_on_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_map_list&quot;</span><span class="p">]</span>

<div class="viewcode-block" id="TestData"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestData">[docs]</a><span class="k">class</span> <span class="nc">TestData</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class to handle generic test data related operations</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="nd">@staticmethod</span>
<div class="viewcode-block" id="TestData.varsub_varconfig_substitutions"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestData.varsub_varconfig_substitutions">[docs]</a>    <span class="k">def</span> <span class="nf">varsub_varconfig_substitutions</span><span class="p">(</span><span class="n">details_dict</span><span class="p">,</span> <span class="n">vc_file</span><span class="p">,</span> <span class="n">var_sub</span><span class="p">,</span> <span class="n">start_pat</span><span class="o">=</span><span class="s2">&quot;${&quot;</span><span class="p">,</span> <span class="n">end_pat</span><span class="o">=</span><span class="s2">&quot;}&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Substitute the patterns [VAR_SUB] in command, command parameters,</span>
<span class="sd">        verification search, verification parameters with the value of</span>
<span class="sd">        VAR_SUB provided by user in the testcase.</span>

<span class="sd">        Substitute the value of the variables (provided as dotted notation</span>
<span class="sd">        inside the pattern ${} ) in command, command parameters,</span>
<span class="sd">        verification search, verification parameters with the value provided</span>
<span class="sd">        in the varaiable config file (vc_file).</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vfy_param_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_context_list&quot;</span><span class="p">,</span>
                          <span class="s2">&quot;verify_on_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_map_list&quot;</span><span class="p">]</span>
        <span class="n">vc_file_list</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">vc_file</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;vc_file_list&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">CMD_PARAMS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">param</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vfy_param_list</span> <span class="ow">and</span> <span class="n">param</span><span class="o">!=</span><span class="s2">&quot;vc_file_list&quot;</span><span class="p">:</span>
                <span class="c1"># list in here is just a list of strings</span>
                <span class="n">string_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span>
                <span class="n">new_string_list</span> <span class="o">=</span> <span class="n">string_Utils</span><span class="o">.</span><span class="n">sub_from_varconfig</span>\
                <span class="p">(</span><span class="n">vc_file_list</span><span class="p">,</span> <span class="n">string_list</span><span class="p">,</span> <span class="n">var_sub</span><span class="p">,</span> <span class="n">start_pat</span><span class="p">,</span> <span class="n">end_pat</span><span class="p">)</span>
                <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_string_list</span>

            <span class="k">elif</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">vfy_param_list</span><span class="p">:</span>
                <span class="c1"># list in here is a list of sublists of strings</span>
                <span class="n">string_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">sub_list</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">string_list</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">sub_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">sub_vc_file_list</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">vc_file_list</span> <span class="ow">is</span> <span class="kc">None</span>\
                        <span class="k">else</span> <span class="p">[</span><span class="n">vc_file_list</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">sub_list</span><span class="p">)</span>
                        <span class="n">new_sub_list</span> <span class="o">=</span> <span class="n">string_Utils</span><span class="o">.</span><span class="n">sub_from_varconfig</span>\
                        <span class="p">(</span><span class="n">sub_vc_file_list</span><span class="p">,</span> <span class="n">sub_list</span><span class="p">,</span> <span class="n">var_sub</span><span class="p">,</span> <span class="n">start_pat</span><span class="p">,</span> <span class="n">end_pat</span><span class="p">)</span>

                        <span class="n">string_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_sub_list</span>
                        <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span> <span class="o">=</span> <span class="n">string_list</span>
        <span class="k">return</span> <span class="n">details_dict</span></div>

<div class="viewcode-block" id="TestData.list_check"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestData.list_check">[docs]</a>    <span class="k">def</span> <span class="nf">list_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cfg_elem_obj</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            check the text to see if there are multiple list substitutions</span>
<span class="sd">        :param cfg_elem_obj:</span>
<span class="sd">            the object that load and parse the varconfig file</span>
<span class="sd">            we can match text to list element</span>
<span class="sd">        :param text:</span>
<span class="sd">            the text being analyzed</span>
<span class="sd">        :return:</span>
<span class="sd">            return the particular list or None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dict_of_lists</span> <span class="o">=</span> <span class="n">cfg_elem_obj</span><span class="o">.</span><span class="n">get_list</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dict_of_lists</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">dict_of_lists</span><span class="o">.</span><span class="n">values</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">dict_of_lists</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
                <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">dict_of_lists</span><span class="o">.</span><span class="n">values</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># There are multiple lists with different length!</span>
                <span class="k">return</span> <span class="s1">&#39;Error&#39;</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">dict_of_lists</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">dict_of_lists</span><span class="o">.</span><span class="n">values</span><span class="p">()[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">dict_of_lists</span><span class="o">.</span><span class="n">values</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
        
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="TestData.cmd_quote_check"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestData.cmd_quote_check">[docs]</a>    <span class="k">def</span> <span class="nf">cmd_quote_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cfg_elem_obj</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            check the command text to see if there is any different list substitution</span>
<span class="sd">        :param cfg_elem_obj:</span>
<span class="sd">            the object that load and parse the varconfig file</span>
<span class="sd">            we can match text in command text to list element</span>
<span class="sd">        :param details_dict:</span>
<span class="sd">        :return:</span>
<span class="sd">            list of boolean shows if the command has list substitution of not</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cmd_list_substituted</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">cmd_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">])):</span>
            <span class="c1"># check if current cmd is invalid</span>
            <span class="k">if</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]:</span>
                <span class="n">cmd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_check</span><span class="p">(</span><span class="n">cfg_elem_obj</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">cmd</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">False</span> <span class="ow">and</span> <span class="n">cmd</span> <span class="o">!=</span> <span class="s1">&#39;Error&#39;</span><span class="p">:</span>
                    <span class="n">cmd_list_substituted</span><span class="p">[</span><span class="n">cmd_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmd</span>
                <span class="k">elif</span> <span class="n">cmd</span> <span class="o">==</span> <span class="s1">&#39;Error&#39;</span><span class="p">:</span>
                    <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;Multiple lists with different length found in command text&quot;</span><span class="p">)</span>
                    <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;Ignored verify text for current invalid cmd&quot;</span><span class="p">)</span>
                <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="n">cmd_list_substituted</span></div>

<div class="viewcode-block" id="TestData.verify_text_check"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestData.verify_text_check">[docs]</a>    <span class="k">def</span> <span class="nf">verify_text_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cfg_elem_obj</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            check the verify text to see if there is any different list substitution</span>
<span class="sd">        :param cfg_elem_obj:</span>
<span class="sd">            the object that load and parse the varconfig file</span>
<span class="sd">            we can match text in verify text to list element</span>
<span class="sd">        :param details_dict:</span>
<span class="sd">        :return:</span>
<span class="sd">            list of boolean shows if the verify text has list substitution of not</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">verify_text_substituted</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">verify_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">])):</span>
            <span class="c1"># check if sublist in verify_text_list is invalid</span>
            <span class="k">if</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">verify_index</span><span class="p">]:</span>
                <span class="k">for</span> <span class="n">verify_string</span> <span class="ow">in</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">verify_index</span><span class="p">]:</span>
                    <span class="c1"># check if verify_string is invalid</span>
                    <span class="k">if</span> <span class="n">verify_string</span><span class="p">:</span>
                        <span class="n">verify_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_check</span><span class="p">(</span><span class="n">cfg_elem_obj</span><span class="p">,</span> <span class="n">verify_string</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">verify_text</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">False</span> <span class="ow">and</span> <span class="n">verify_text</span> <span class="o">!=</span> <span class="s1">&#39;Error&#39;</span><span class="p">:</span>
                            <span class="k">if</span> <span class="ow">not</span> <span class="n">verify_text_substituted</span><span class="p">[</span><span class="n">verify_index</span><span class="p">]:</span>
                                <span class="n">verify_text_substituted</span><span class="p">[</span><span class="n">verify_index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">verify_text</span><span class="p">]</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">verify_text_substituted</span><span class="p">[</span><span class="n">verify_index</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">verify_text</span><span class="p">)</span>
                        <span class="k">elif</span> <span class="n">verify_text</span> <span class="o">==</span> <span class="s1">&#39;Error&#39;</span><span class="p">:</span>
                            <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;Multiple lists with different length found in verify text&quot;</span><span class="p">)</span>
                            <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">][</span><span class="n">verify_index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
                            <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">verify_index</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">return</span> <span class="n">verify_text_substituted</span></div>

<div class="viewcode-block" id="TestData.list_substitution_precheck"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestData.list_substitution_precheck">[docs]</a>    <span class="k">def</span> <span class="nf">list_substitution_precheck</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">varconfigfile</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">start_pat</span><span class="o">=</span><span class="s2">&quot;${&quot;</span><span class="p">,</span> <span class="n">end_pat</span><span class="o">=</span><span class="s2">&quot;}&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            entry function for cmd and verify text substitution check</span>
<span class="sd">        :param cfg_elem_obj:</span>
<span class="sd">            the object that load and parse the varconfig file</span>
<span class="sd">        :param details_dict:</span>
<span class="sd">        :return:</span>
<span class="sd">            pair of list of boolean returned from cmd_quote_check and verify_text_check</span>
<span class="sd">        &quot;&quot;&quot;</span> 
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">]):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;command list and verify_text_list aren&#39;t the same length&quot;</span><span class="p">)</span>

        <span class="n">cmd_list_substituted</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">])</span>
        <span class="n">verify_text_substituted</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">])</span>

        <span class="k">if</span> <span class="n">varconfigfile</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># when varconfigfile is an XMl object(root element) - this happens</span>
            <span class="c1"># only when varconfigfile is taken from database server</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">varconfigfile</span><span class="p">,</span> <span class="n">ElementTree</span><span class="o">.</span><span class="n">Element</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">cfg_elem_obj</span> <span class="o">=</span> <span class="n">ConfigurationElement</span><span class="p">(</span><span class="s2">&quot;Varconfig_from_Database&quot;</span><span class="p">,</span>
                                                    <span class="n">start_pat</span><span class="p">,</span> <span class="n">end_pat</span><span class="p">)</span>
                <span class="n">cfg_elem_obj</span><span class="o">.</span><span class="n">parse_data</span><span class="p">(</span><span class="n">varconfigfile</span><span class="p">,</span> <span class="n">elem_type</span><span class="o">=</span><span class="s2">&quot;xml_object&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cfg_elem_obj</span> <span class="o">=</span> <span class="n">ConfigurationElement</span><span class="p">(</span><span class="n">varconfigfile</span><span class="p">,</span> <span class="n">start_pat</span><span class="p">,</span> <span class="n">end_pat</span><span class="p">)</span>
                <span class="n">cfg_elem_obj</span><span class="o">.</span><span class="n">parse_data</span><span class="p">(</span><span class="n">varconfigfile</span><span class="p">)</span>
            <span class="n">cmd_list_substituted</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd_quote_check</span><span class="p">(</span><span class="n">cfg_elem_obj</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">]:</span>
                <span class="n">verify_text_substituted</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">verify_text_check</span><span class="p">(</span><span class="n">cfg_elem_obj</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">cmd_list_substituted</span><span class="p">,</span> <span class="n">verify_text_substituted</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestData.string_sub"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestData.string_sub">[docs]</a>    <span class="k">def</span> <span class="nf">string_sub</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_str</span><span class="p">,</span> <span class="n">dict_of_list</span><span class="p">,</span> <span class="n">start_pat</span><span class="o">=</span><span class="s2">&quot;${&quot;</span><span class="p">,</span> <span class="n">end_pat</span><span class="o">=</span><span class="s2">&quot;}&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            expand the raw_str into a list using the substitution value from dict_of_list</span>
<span class="sd">            :param raw_str:</span>
<span class="sd">                the source string that needs to be expanded</span>
<span class="sd">            :param dict_of_list:</span>
<span class="sd">                a dict with orignal list/range as key &quot;1..4,5,6..7:0.5&quot;</span>
<span class="sd">                parsed list as value [1,2,3,4,5,6,6.5,7]</span>
<span class="sd">            :return:</span>
<span class="sd">                a list with expanded raw_str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">expanded_str</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">str_match</span><span class="p">,</span> <span class="n">list_value</span> <span class="ow">in</span> <span class="n">dict_of_list</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">list_value</span><span class="p">:</span>
                <span class="c1"># There is a list that needs to expand</span>
                <span class="k">if</span> <span class="n">expanded_str</span> <span class="o">==</span> <span class="p">[]:</span>
                    <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">list_value</span><span class="p">:</span>
                        <span class="n">expanded_str</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">raw_str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">start_pat</span><span class="o">+</span><span class="n">str_match</span><span class="o">+</span><span class="n">end_pat</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_value</span><span class="p">):</span>
                        <span class="n">expanded_str</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">expanded_str</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">start_pat</span><span class="o">+</span><span class="n">str_match</span><span class="o">+</span><span class="n">end_pat</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">str_match</span> <span class="o">==</span> <span class="s1">&#39;Error&#39;</span><span class="p">:</span>
                    <span class="k">return</span> <span class="s1">&#39;Error&#39;</span>

        <span class="k">return</span> <span class="n">expanded_str</span></div>

<div class="viewcode-block" id="TestData.cmd_sub"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestData.cmd_sub">[docs]</a>    <span class="k">def</span> <span class="nf">cmd_sub</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_index</span><span class="p">,</span> <span class="n">varconfigfile</span><span class="p">,</span> <span class="n">start_pat</span><span class="o">=</span><span class="s2">&quot;${&quot;</span><span class="p">,</span> <span class="n">end_pat</span><span class="o">=</span><span class="s2">&quot;}&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            expand the command_list with list/range value</span>
<span class="sd">        :param details_dict:</span>
<span class="sd">        :param cmd_index:</span>
<span class="sd">            current cmd that we are processing</span>
<span class="sd">        :param varconfigfile:</span>
<span class="sd">            reference to find value list</span>
<span class="sd">        :return:</span>
<span class="sd">            list of value indicating if the cmd has list substitution or not</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">expanded_cmd</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">cmd_result</span> <span class="o">=</span> <span class="n">string_Utils</span><span class="o">.</span><span class="n">get_list_from_varconfigfile</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">],</span> <span class="n">varconfigfile</span><span class="p">,</span> <span class="n">start_pat</span><span class="p">,</span> <span class="n">end_pat</span><span class="p">)</span>
        <span class="n">expanded_cmd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">string_sub</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">],</span> <span class="n">cmd_result</span><span class="p">,</span> <span class="n">start_pat</span><span class="p">,</span> <span class="n">end_pat</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">expanded_cmd</span> <span class="ow">and</span> <span class="n">expanded_cmd</span> <span class="o">!=</span> <span class="s1">&#39;Error&#39;</span><span class="p">:</span>
            <span class="c1"># Every cmd in here supposed to have at least 1 list sub</span>
            <span class="c1"># But just in case, check if there is no list sub</span>
            <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">expanded_cmd</span>
        <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">expanded_cmd</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;Error&#39;</span><span class="p">:</span>
            <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">return</span> <span class="p">[]</span>

        <span class="k">return</span> <span class="n">cmd_result</span><span class="o">.</span><span class="n">values</span><span class="p">()</span></div>

<div class="viewcode-block" id="TestData.verify_sub"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestData.verify_sub">[docs]</a>    <span class="k">def</span> <span class="nf">verify_sub</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_index</span><span class="p">,</span> <span class="n">varconfigfile</span><span class="p">,</span> <span class="n">start_pat</span><span class="o">=</span><span class="s2">&quot;${&quot;</span><span class="p">,</span> <span class="n">end_pat</span><span class="o">=</span><span class="s2">&quot;}&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            expand the verify_text_list with list/range value</span>
<span class="sd">        :param details_dict:</span>
<span class="sd">        :param cmd_index:</span>
<span class="sd">            current cmd that we are processing</span>
<span class="sd">        :param varconfigfile:</span>
<span class="sd">            reference to find value list</span>
<span class="sd">        :return:</span>
<span class="sd">            list of value indicating if the verify text list has list substitution or not</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">expanded_verify_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">verify_text_match_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">verify_text_string</span> <span class="ow">in</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]:</span>

            <span class="n">verify_text_result</span> <span class="o">=</span> <span class="n">string_Utils</span><span class="o">.</span><span class="n">get_list_from_varconfigfile</span><span class="p">(</span><span class="n">verify_text_string</span><span class="p">,</span> <span class="n">varconfigfile</span><span class="p">,</span> <span class="n">start_pat</span><span class="p">,</span> <span class="n">end_pat</span><span class="p">)</span>
            <span class="n">expanded_verify_text</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="c1"># add the value to the verify text list (1 cmd can have multiple verify text)</span>
            <span class="n">verify_text_match_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">verify_text_result</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>

            <span class="n">expanded_verify_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">string_sub</span><span class="p">(</span><span class="n">verify_text_string</span><span class="p">,</span> <span class="n">verify_text_result</span><span class="p">,</span> <span class="n">start_pat</span><span class="p">,</span> <span class="n">end_pat</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">expanded_verify_text</span> <span class="ow">and</span> <span class="n">expanded_verify_text</span> <span class="o">!=</span> <span class="s1">&#39;Error&#39;</span><span class="p">:</span>
                <span class="n">expanded_verify_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">expanded_verify_text</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">str</span><span class="p">(</span><span class="n">expanded_verify_text</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;Error&#39;</span><span class="p">:</span>
                <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">return</span> <span class="p">[]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">expanded_verify_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">verify_text_string</span><span class="p">)</span>

        <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]</span> <span class="o">=</span> <span class="n">expanded_verify_list</span>
        <span class="k">return</span> <span class="n">verify_text_match_list</span></div>

<div class="viewcode-block" id="TestData.align_both"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestData.align_both">[docs]</a>    <span class="k">def</span> <span class="nf">align_both</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_index</span><span class="p">,</span> <span class="n">cmd_match</span><span class="p">,</span> <span class="n">verify_text_match_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            In the case of both command list and verify text list get list substitution</span>
<span class="sd">            handle the following case:</span>
<span class="sd">            command and verify text share same substitution: 1-1 match the list value, so cmd 1 - verify 1, cmd2 - verify 2</span>
<span class="sd">            command and verify text have different substitution: 1-many match the list value, so cmd 1 - verify a, verify b, verify c</span>
<span class="sd">            command has list substitution but verify text doesn&#39;t: 1-1 match, cmd 1 - verify text</span>
<span class="sd">            also expand other lists to match # of cmd</span>
<span class="sd">        :param details_dict:</span>
<span class="sd">        :param cmd_index:</span>
<span class="sd">            current cmd that we are processing</span>
<span class="sd">        :param cmd_match:</span>
<span class="sd">            list for value indicating whether cmd text list has list substitution</span>
<span class="sd">            can be [list1, list2, list3] all lists have same length (checked before sub)</span>
<span class="sd">            or []</span>
<span class="sd">        :param verify_text_match_list:</span>
<span class="sd">            list for value indicating whether verify text list has list substitution</span>
<span class="sd">            can be [[list1_for_ver_text1, list2, list3], [False], [list1_for_ver_text3, list2...]]</span>
<span class="sd">            or []</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vfy_param_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_context_list&quot;</span><span class="p">,</span>
                          <span class="s2">&quot;verify_on_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_map_list&quot;</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">sub_cmd_index</span><span class="p">,</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]):</span>
            <span class="c1"># for every expanded cmd...</span>
            <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">CMD_PARAMS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">param</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vfy_param_list</span> <span class="ow">and</span> <span class="n">param</span> <span class="o">!=</span> <span class="s2">&quot;command_list&quot;</span><span class="p">:</span>
                    <span class="c1"># list in here is just a list of strings</span>
                    <span class="c1"># insert duplicated element after the current element</span>
                    <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">cmd_index</span><span class="o">+</span><span class="n">sub_cmd_index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">])</span>
                <span class="k">elif</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">vfy_param_list</span><span class="p">:</span>
                    <span class="c1"># list in here is a list of sublists of strings</span>
                    <span class="c1"># for example: verify_text_list = [[v1[1], v1[2], v1[3]], [v2], [v3[1], v3[2]]]</span>
                    <span class="n">processed_list</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">for</span> <span class="n">sub_verify_text_index</span><span class="p">,</span> <span class="n">verify_text_match</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">verify_text_match_list</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">param</span> <span class="o">==</span> <span class="s2">&quot;verify_text_list&quot;</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">verify_text_match</span> <span class="o">==</span> <span class="p">[</span><span class="kc">False</span><span class="p">]</span> <span class="ow">or</span> <span class="n">verify_text_match</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">]:</span>
                                <span class="c1"># no verify text substitution for the current subtext</span>
                                <span class="n">processed_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">])</span>
                            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">verify_text_match</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">cmd_match</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                                <span class="c1"># cmd and verify text are replacing the same list</span>
                                <span class="k">if</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_map_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
                                    <span class="c1"># 1-1 mapping</span>
                                    <span class="n">processed_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">][</span><span class="n">sub_cmd_index</span><span class="p">])</span>
                                <span class="k">elif</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_map_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
                                    <span class="c1"># 1-M mapping</span>
                                    <span class="n">processed_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">])</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="c1"># cmd and verify text have different length</span>
                                <span class="n">processed_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">])</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="k">if</span> <span class="n">verify_text_match</span> <span class="o">==</span> <span class="p">[</span><span class="kc">False</span><span class="p">]</span> <span class="ow">or</span> <span class="n">verify_text_match</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">]:</span>
                                <span class="n">processed_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">])</span>
                            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">verify_text_match</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">cmd_match</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                                <span class="c1"># cmd and verify text are replacing the same list, use 1-1 connection</span>
                                <span class="k">if</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_map_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;1&quot;</span><span class="p">:</span>
                                    <span class="c1"># 1-1 mapping</span>
                                    <span class="n">processed_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">])</span>
                                <span class="k">elif</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_map_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span><span class="p">:</span>
                                    <span class="c1"># 1-M mapping</span>
                                    <span class="n">processed_list</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">]]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">]))</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">processed_list</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">]]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">]))</span>

                    <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">cmd_index</span><span class="o">+</span><span class="n">sub_cmd_index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">processed_list</span><span class="p">)</span>
            <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">cmd_index</span><span class="o">+</span><span class="n">sub_cmd_index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestData.align_cmd"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestData.align_cmd">[docs]</a>    <span class="k">def</span> <span class="nf">align_cmd</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_index</span><span class="p">,</span> <span class="n">cmd_match</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            In the case of only command list get list substitution</span>
<span class="sd">            handle the following case:</span>
<span class="sd">            command has list substitution but verify text doesn&#39;t:</span>
<span class="sd">            all expanded cmd have their own copy of verify text</span>
<span class="sd">            also expand other lists to match # of cmd</span>
<span class="sd">        :param details_dict:</span>
<span class="sd">        :param cmd_index:</span>
<span class="sd">            current cmd that we are processing</span>
<span class="sd">        :param cmd_match:</span>
<span class="sd">            list for value indicating whether cmd text list has list substitution</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vfy_param_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_context_list&quot;</span><span class="p">,</span>
                          <span class="s2">&quot;verify_on_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_map_list&quot;</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">sub_cmd_index</span><span class="p">,</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]):</span>
            <span class="c1"># for every expanded cmd...</span>
            <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">CMD_PARAMS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">param</span> <span class="o">!=</span> <span class="s2">&quot;command_list&quot;</span><span class="p">:</span>
                    <span class="c1"># list in here is just a list of strings</span>
                    <span class="c1"># insert duplicated element after the current element</span>
                    <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">cmd_index</span><span class="o">+</span><span class="n">sub_cmd_index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">])</span>
            <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">cmd_index</span><span class="o">+</span><span class="n">sub_cmd_index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestData.align_ver"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestData.align_ver">[docs]</a>    <span class="k">def</span> <span class="nf">align_ver</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_index</span><span class="p">,</span> <span class="n">verify_text_match_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            In the case of only verify text list get list substitution</span>
<span class="sd">            handle the following case:</span>
<span class="sd">            verify text has list substitution but cmd text doesn&#39;t:</span>
<span class="sd">            1 cmd maps to all of its verify texts</span>
<span class="sd">        :param details_dict:</span>
<span class="sd">        :param cmd_index:</span>
<span class="sd">            current cmd that we are processing</span>
<span class="sd">        :param verify_text_match_list:</span>
<span class="sd">            list for value indicating whether verify text list has list substitution</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># First handle the context list because they haven&#39;t expanded themselves during list substitution</span>
        <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;verify_context_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_on_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_map_list&quot;</span><span class="p">]:</span>
            <span class="n">processed_list</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">sub_verify_text_index</span><span class="p">,</span> <span class="n">verify_text_match</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">verify_text_match_list</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">verify_text_match</span> <span class="ow">and</span> <span class="n">verify_text_match</span> <span class="o">!=</span> <span class="p">[</span><span class="kc">False</span><span class="p">]</span> <span class="ow">and</span> <span class="n">verify_text_match</span> <span class="o">!=</span> <span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">]:</span>
                    <span class="n">processed_list</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">]]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">]))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">processed_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">])</span>
            <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">cmd_index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">processed_list</span><span class="p">)</span>

        <span class="c1"># break up verify text list to corrent chunk</span>
        <span class="n">processed_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">sub_verify_text_index</span><span class="p">,</span> <span class="n">verify_text_match</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">verify_text_match_list</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">verify_text_match</span> <span class="ow">and</span> <span class="n">verify_text_match</span> <span class="o">!=</span> <span class="p">[</span><span class="kc">False</span><span class="p">]</span> <span class="ow">and</span> <span class="n">verify_text_match</span> <span class="o">!=</span> <span class="p">[</span><span class="s2">&quot;Error&quot;</span><span class="p">]:</span>
                <span class="n">processed_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">processed_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">][</span><span class="n">sub_verify_text_index</span><span class="p">])</span>
        <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">cmd_index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">processed_list</span><span class="p">)</span></div>

<div class="viewcode-block" id="TestData.list_substitution"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestData.list_substitution">[docs]</a>    <span class="k">def</span> <span class="nf">list_substitution</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">varconfigfile</span><span class="p">,</span> <span class="n">cmd_list_substituted</span><span class="p">,</span> <span class="n">verify_text_substituted</span><span class="p">,</span> <span class="n">start_pat</span><span class="o">=</span><span class="s2">&quot;${&quot;</span><span class="p">,</span> <span class="n">end_pat</span><span class="o">=</span><span class="s2">&quot;}&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            entry function for different list substitution case</span>
<span class="sd">            also handle the deletion of original list after alignment</span>
<span class="sd">        :param details_dict:</span>
<span class="sd">        :param varconfigfile:</span>
<span class="sd">            reference for list of values</span>
<span class="sd">        :param cmd_list_substituted:</span>
<span class="sd">            list for value indicating whether cmd list has list substitution</span>
<span class="sd">        :param verify_text_substituted:</span>
<span class="sd">            list for value indicating whether verify text list has list substitution</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vfy_param_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_context_list&quot;</span><span class="p">,</span>
                          <span class="s2">&quot;verify_on_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_map_list&quot;</span><span class="p">]</span>

        <span class="n">old_cmd_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cmd_index</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">while</span> <span class="n">cmd_index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">]):</span>
            <span class="k">if</span> <span class="n">cmd_list_substituted</span><span class="p">[</span><span class="n">old_cmd_index</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">verify_text_substituted</span><span class="p">[</span><span class="n">old_cmd_index</span><span class="p">]:</span>
                    <span class="n">cmd_match</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd_sub</span><span class="p">(</span><span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_index</span><span class="p">,</span> <span class="n">varconfigfile</span><span class="p">,</span> <span class="n">start_pat</span><span class="p">,</span> <span class="n">end_pat</span><span class="p">)</span>
                    <span class="n">verify_text_match_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">verify_sub</span><span class="p">(</span><span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_index</span><span class="p">,</span> <span class="n">varconfigfile</span><span class="p">,</span> <span class="n">start_pat</span><span class="p">,</span> <span class="n">end_pat</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">align_both</span><span class="p">(</span><span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_index</span><span class="p">,</span> <span class="n">cmd_match</span><span class="p">,</span> <span class="n">verify_text_match_list</span><span class="p">)</span>

                    <span class="n">cmd_jump</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">])</span>
                    <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">CMD_PARAMS</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="k">del</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]</span>

                    <span class="n">cmd_index</span> <span class="o">+=</span> <span class="n">cmd_jump</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">cmd_match</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cmd_sub</span><span class="p">(</span><span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_index</span><span class="p">,</span> <span class="n">varconfigfile</span><span class="p">,</span> <span class="n">start_pat</span><span class="p">,</span> <span class="n">end_pat</span><span class="p">)</span>
                    <span class="n">cmd_jump</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">])</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">align_cmd</span><span class="p">(</span><span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_index</span><span class="p">,</span> <span class="n">cmd_match</span><span class="p">)</span>

                    <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">CMD_PARAMS</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                        <span class="k">del</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]</span>

                    <span class="n">cmd_index</span> <span class="o">+=</span> <span class="n">cmd_jump</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">verify_text_substituted</span><span class="p">[</span><span class="n">old_cmd_index</span><span class="p">]:</span>
                    <span class="n">verify_text_match_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">verify_sub</span><span class="p">(</span><span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_index</span><span class="p">,</span> <span class="n">varconfigfile</span><span class="p">,</span> <span class="n">start_pat</span><span class="p">,</span> <span class="n">end_pat</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">align_ver</span><span class="p">(</span><span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_index</span><span class="p">,</span> <span class="n">verify_text_match_list</span><span class="p">)</span>

                    <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">vfy_param_list</span><span class="p">:</span>
                        <span class="k">del</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">cmd_index</span><span class="p">]</span>

                <span class="k">else</span><span class="p">:</span>
                    <span class="k">pass</span>

                <span class="n">cmd_index</span> <span class="o">+=</span> <span class="mi">1</span>
            
            <span class="n">old_cmd_index</span> <span class="o">+=</span> <span class="mi">1</span></div>

    <span class="nd">@staticmethod</span>
<div class="viewcode-block" id="TestData.wdf_substitutions"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestData.wdf_substitutions">[docs]</a>    <span class="k">def</span> <span class="nf">wdf_substitutions</span><span class="p">(</span><span class="n">details_dict</span><span class="p">,</span> <span class="n">datafile</span><span class="p">,</span> <span class="n">kw_system_name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Substitute the patterns $wdf{} in command, command parameters,</span>
<span class="sd">        verification search, verification parameters with the value of</span>
<span class="sd">         provided by user in the datafile.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">vfy_param_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_context_list&quot;</span><span class="p">,</span>
                          <span class="s2">&quot;verify_on_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_map_list&quot;</span><span class="p">]</span>
        <span class="c1">#vc_file_list = None if vc_file is None else details_dict[&quot;vc_file_list&quot;]</span>
        <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">CMD_PARAMS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">param</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">vfy_param_list</span> <span class="ow">and</span> <span class="n">param</span><span class="o">!=</span><span class="s2">&quot;vc_file_list&quot;</span><span class="p">:</span>
                <span class="n">string_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span>
                <span class="n">td_sys_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;sys_list&quot;</span><span class="p">]</span>
                <span class="n">new_string_list</span> <span class="o">=</span> <span class="n">string_Utils</span><span class="o">.</span><span class="n">sub_from_wdf</span>\
                <span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="n">string_list</span><span class="p">,</span> <span class="n">td_sys_list</span><span class="p">,</span> <span class="n">kw_system_name</span><span class="p">)</span>
                <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_string_list</span>

            <span class="k">elif</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">vfy_param_list</span><span class="p">:</span>
                <span class="n">string_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span>
                <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">sub_list</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">string_list</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">sub_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">new_sub_list</span> <span class="o">=</span> <span class="n">string_Utils</span><span class="o">.</span><span class="n">sub_from_wdf</span>\
                        <span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="n">sub_list</span><span class="p">)</span>
                        <span class="n">string_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_sub_list</span>
                        <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span> <span class="o">=</span> <span class="n">string_list</span>
        <span class="k">return</span> <span class="n">details_dict</span></div></div>

<div class="viewcode-block" id="TestDataIterations"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestDataIterations">[docs]</a><span class="k">class</span> <span class="nc">TestDataIterations</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class to handle iterations in testdata</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

<div class="viewcode-block" id="TestDataIterations.resolve_iteration_patterns"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestDataIterations.resolve_iteration_patterns">[docs]</a>    <span class="k">def</span> <span class="nf">resolve_iteration_patterns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes a details dict as input</span>
<span class="sd">        and resolves the iteration patterns in each command</span>
<span class="sd">        and its parameters and in each verification search and its</span>
<span class="sd">        parameters</span>

<span class="sd">        :Return:</span>
<span class="sd">            Returns an updated details_dict and cmd_loc_list</span>
<span class="sd">            (cmd_loc_list - list of starting locations of</span>
<span class="sd">            each td command in the expanded cmd_list,</span>
<span class="sd">            last value of this list is the total number of</span>
<span class="sd">            commands in the in the expanded cmd_list)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cmd_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">]</span>
        <span class="n">vc_file_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;vc_file_list&quot;</span><span class="p">]</span>
        <span class="n">repeat_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;repeat_list&quot;</span><span class="p">]</span>
        <span class="n">res_status</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1">### for each command in cmd_list resolve the iterations</span>
        <span class="n">cmd_list_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">cmd_list</span><span class="p">)</span>
        <span class="n">cmd_loc_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">cmd_size</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cmd_list</span><span class="p">):</span>
            <span class="n">vc_file</span> <span class="o">=</span> <span class="n">vc_file_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">iteration_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validate_iteration_patterns</span>\
            <span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="n">cmd_size</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">cmd_size</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="n">cmd_size</span>
            <span class="c1"># if iteration_status is False, mark command as False and</span>
            <span class="c1"># move on to the next command</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">iteration_status</span><span class="p">:</span>
                <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;Iteration pattern validation failed for the &quot;</span>\
                            <span class="s2">&quot;the command </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span>
                <span class="n">cmd_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">cmd_loc_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">cmd_size</span><span class="p">)</span>
                <span class="k">continue</span>

            <span class="c1"># At this point it is safe to assume all validations with respect</span>
            <span class="c1"># to command iterations are done, and when iteration patterns are</span>
            <span class="c1"># expanded in the below steps they will be uniform.</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># find the iter pattern for the command</span>
                <span class="n">cmd_iter_pattern</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_iteration_pattern</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
                <span class="c1"># iter_pattern=&quot;&quot; it means no iter_pattern found for the cmd</span>
                <span class="c1"># move on to the next command</span>
                <span class="c1"># This also means that the command parameters do not have any</span>
                <span class="c1"># iteration patterns because the validation was already done.</span>
                <span class="k">if</span> <span class="n">cmd_iter_pattern</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                    <span class="c1"># if cmd_iterpattern is not &quot;&quot;</span>
                    <span class="c1"># call the expand cmd_params method to resolve the</span>
                    <span class="c1"># iteration patterns in the command and get a updated</span>
                    <span class="c1"># details_dict get a updated details dict</span>

                    <span class="k">if</span> <span class="n">repeat_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">print_warning</span><span class="p">(</span><span class="s2">&quot;repeat tag is not supported for the&quot;</span>\
                                      <span class="s2">&quot; command with iteration pattern - &quot;</span>\
                                      <span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span> <span class="nb">format</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span>
                    <span class="n">cmdresolved_details_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_cmd_params</span>\
                    <span class="p">(</span><span class="n">cmd_iter_pattern</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">vc_file</span><span class="p">)</span>

                    <span class="n">details_dict</span> <span class="o">=</span> <span class="n">cmdresolved_details_dict</span>

                <span class="n">new_details_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_vfy_params</span>\
                <span class="p">(</span><span class="n">details_dict</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">vc_file</span><span class="p">,</span> <span class="n">cmd_iter_pattern</span><span class="p">)</span>
                <span class="n">details_dict</span> <span class="o">=</span> <span class="n">new_details_dict</span>
                <span class="n">cmd_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">]</span>

                <span class="n">res_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_list_lengths</span><span class="p">(</span><span class="n">details_dict</span><span class="p">)</span>
                <span class="n">res_status</span> <span class="o">=</span> <span class="n">res_status</span> <span class="ow">and</span> <span class="n">res_result</span>

            <span class="n">new_cmd_list_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">cmd_list</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">new_cmd_list_length</span> <span class="o">&gt;</span> <span class="n">cmd_list_length</span><span class="p">:</span>
                <span class="n">cmd_size</span> <span class="o">=</span> <span class="p">(</span><span class="n">new_cmd_list_length</span> <span class="o">-</span> <span class="n">cmd_list_length</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">cmd_list_length</span> <span class="o">=</span> <span class="n">new_cmd_list_length</span>
                <span class="n">cmd_loc_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">cmd_size</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">cmd_size</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">cmd_loc_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">cmd_size</span><span class="p">)</span>
                <span class="n">cmd_size</span> <span class="o">-=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">res_status</span><span class="p">:</span>
            <span class="n">print_debug</span><span class="p">(</span><span class="s2">&quot;resolving iteration patterns in the command, &quot;</span>\
                        <span class="s2">&quot;command_parameters, verify search, verifcation &quot;</span>\
                        <span class="s2">&quot;parameters was successful&quot;</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">print_debug</span><span class="p">(</span><span class="s2">&quot;resolving iteration patterns in the command, &quot;</span>\
                        <span class="s2">&quot;command_parameters, verify search, verifcation &quot;</span>\
                        <span class="s2">&quot;parameters was failed&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_loc_list</span></div>


<div class="viewcode-block" id="TestDataIterations.validate_iteration_patterns"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestDataIterations.validate_iteration_patterns">[docs]</a>    <span class="k">def</span> <span class="nf">validate_iteration_patterns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate iteration patterns provided in the</span>
<span class="sd">        1. command string</span>
<span class="sd">        2. command parameters</span>
<span class="sd">        3. verification search string of the command</span>
<span class="sd">        4. verification parameters (found, verify_on)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># get the iteration pattern of the command</span>
        <span class="n">cmd_iter_pattern</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_iteration_pattern</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
        <span class="n">cmd_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_cmd_iterpattern</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">cmd_iter_pattern</span><span class="p">)</span>
        <span class="n">param_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_params_iterpattern</span>\
        <span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_iter_pattern</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">vfy_search_status</span> <span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_validate_vfysearch_iterpattern</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">vfyparams_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_vfyparams_iterpattern</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">cmd_status</span> <span class="ow">and</span> <span class="n">param_status</span> <span class="ow">and</span> <span class="n">vfy_search_status</span> \
        <span class="ow">and</span> <span class="n">vfyparams_status</span>
        <span class="k">return</span> <span class="n">status</span></div>

<div class="viewcode-block" id="TestDataIterations.get_iteration_pattern"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestDataIterations.get_iteration_pattern">[docs]</a>    <span class="k">def</span> <span class="nf">get_iteration_pattern</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the iteration pattern from a string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">var_pat_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_varpat_list</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
        <span class="n">iter_pattern_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_iterpattern_list</span><span class="p">(</span><span class="n">var_pat_list</span><span class="p">)</span>
        <span class="n">iter_pattern</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">iter_pattern_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>\
        <span class="k">else</span> <span class="n">iter_pattern_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">iter_pattern</span></div>

<div class="viewcode-block" id="TestDataIterations.expand_cmd_params"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestDataIterations.expand_cmd_params">[docs]</a>    <span class="k">def</span> <span class="nf">expand_cmd_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd_iter_pattern</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">vc_file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Expand the iteration patterns in the command,</span>
<span class="sd">        command parameters and return a updated details dict</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">excl_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">]</span>
        <span class="c1"># First expand the iteration pattern in the actual command</span>
        <span class="n">cmd_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">]</span>
        <span class="n">cmd</span> <span class="o">=</span> <span class="n">cmd_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="c1"># Change the repeat_list value in this index as None since td &#39;repeat&#39;</span>
        <span class="c1"># tag is not supported for the commands with iteration pattern</span>
        <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;repeat_list&quot;</span><span class="p">][</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">error</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">resolved_cmd_list</span><span class="p">,</span> <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expand_iter_pattern</span>\
        <span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">cmd_iter_pattern</span><span class="p">,</span> <span class="n">vc_file</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">status</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">resolved_cmd_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># if resolving the iteration patterns in the command</span>
            <span class="c1"># was successful then replace the command in the original</span>
            <span class="c1"># command list with the new commands in the resolved_cmd_list</span>
            <span class="n">cmd_list</span><span class="p">[</span><span class="n">index</span><span class="p">:</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">resolved_cmd_list</span>

            <span class="c1"># remember the length of the resolved cmd list say n</span>
            <span class="c1"># for other command parameters if the iter pattern is provided</span>
            <span class="c1"># resolve the iteration pattern provided, else repeat the parameter</span>
            <span class="c1"># in its list by n times, so that each command that was resolved</span>
            <span class="c1"># has the corresponding parameter repeated.</span>
            <span class="n">ref_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">resolved_cmd_list</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">CMD_PARAMS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">param</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">excl_list</span><span class="p">:</span>
                    <span class="n">param_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span>
                    <span class="n">param_value</span> <span class="o">=</span> <span class="n">param_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
                    <span class="n">iter_pattern</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_iteration_pattern</span><span class="p">(</span><span class="n">param_value</span><span class="p">)</span>\
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">param_value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>

                    <span class="k">if</span> <span class="n">iter_pattern</span> <span class="ow">is</span> <span class="ow">not</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                        <span class="n">res_list</span><span class="p">,</span> <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expand_iter_pattern</span>\
                        <span class="p">(</span><span class="n">param_value</span><span class="p">,</span> <span class="n">iter_pattern</span><span class="p">,</span> <span class="n">vc_file</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">status</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">res_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                            <span class="n">param_list</span><span class="p">[</span><span class="n">index</span><span class="p">:</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">res_list</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">error</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">res_list</span> <span class="o">=</span> <span class="p">[]</span>
                        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ref_length</span><span class="p">):</span>
                            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">param_value</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
                                <span class="n">new_list</span> <span class="o">=</span> <span class="p">[]</span>
                                <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">param_value</span><span class="p">:</span>
                                    <span class="n">new_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
                                <span class="n">res_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_list</span><span class="p">)</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="n">res_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">param_value</span><span class="p">)</span>
                        <span class="n">param_list</span><span class="p">[</span><span class="n">index</span><span class="p">:</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">res_list</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">error</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
            <span class="c1"># if there were any problems in resolving the iteration patterns</span>
            <span class="c1"># or if none of the nodes in the iterpattern are availabel in the</span>
            <span class="c1"># varconfig file, i.e. resolved_cmd_list=[]mark command as False,</span>
            <span class="c1"># do not care to resolve other cmd parameters. return details dict</span>
            <span class="n">cmd_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">details_dict</span></div>

<div class="viewcode-block" id="TestDataIterations.expand_vfy_params"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestDataIterations.expand_vfy_params">[docs]</a>    <span class="k">def</span> <span class="nf">expand_vfy_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">vc_file</span><span class="p">,</span>
                          <span class="n">cmd_iter_pattern</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Expand the iter patterns in the verification search</span>
<span class="sd">        and found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">verify_text_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">]</span>
        <span class="n">cur_verify_text_list</span> <span class="o">=</span> <span class="n">verify_text_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">cur_verify_text_list</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">verify_text</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cur_verify_text_list</span><span class="p">):</span>
                <span class="n">error</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">vfy_iter_pattern</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_iteration_pattern</span><span class="p">(</span><span class="n">verify_text</span><span class="p">)</span>\
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">verify_text</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>

                <span class="n">identical</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">vfy_iter_pattern</span> <span class="o">==</span> <span class="n">cmd_iter_pattern</span>\
                <span class="k">else</span> <span class="kc">False</span>

                <span class="c1"># If a verification search has an iter pattern, resolve it</span>
                <span class="c1"># and get a list of new search strings. Replace search string</span>
                <span class="c1"># in erify_text list with the new search_string list obtained.</span>
                <span class="k">if</span> <span class="n">vfy_iter_pattern</span> <span class="ow">is</span> <span class="ow">not</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                    <span class="n">res_vfytext_list</span><span class="p">,</span> <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expand_iter_pattern</span>\
                    <span class="p">(</span><span class="n">verify_text</span><span class="p">,</span> <span class="n">vfy_iter_pattern</span><span class="p">,</span> <span class="n">vc_file</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">status</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">res_vfytext_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="c1"># if resolving the verify iter pattern was successful</span>
                        <span class="k">if</span> <span class="n">identical</span><span class="p">:</span>
                            <span class="k">for</span> <span class="n">cnt</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">res_vfytext_list</span><span class="p">)):</span>
                                <span class="n">verify_text_list</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="n">cnt</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> \
                                <span class="n">res_vfytext_list</span><span class="p">[</span><span class="n">cnt</span><span class="p">]</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">cur_verify_text_list</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">res_vfytext_list</span>

                        <span class="c1"># After resolving the iter patterns in the search</span>
                        <span class="c1"># check if iter pattern is provided in corresponding</span>
                        <span class="c1"># found, if provided resolve iter pattern of found.</span>
                        <span class="c1"># NOte: At this point it is safe to assume that the iter</span>
                        <span class="c1"># patterns in search and found are same because the</span>
                        <span class="c1"># validation was performed earlier.</span>
                        <span class="n">ref_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">res_vfytext_list</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">VERIFY_PARAMS</span><span class="p">:</span>
                            <span class="n">verify_params_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span>
                            <span class="n">param_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">index</span><span class="p">]</span>
                            <span class="n">param_value</span> <span class="o">=</span> <span class="n">param_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                            <span class="n">iter_pattern</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_iteration_pattern</span>\
                            <span class="p">(</span><span class="n">param_value</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">param_value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> \
                            <span class="k">else</span> <span class="s2">&quot;&quot;</span>

                            <span class="k">if</span> <span class="n">iter_pattern</span> <span class="ow">is</span> <span class="ow">not</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                                <span class="n">res_list</span><span class="p">,</span> <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_expand_iter_pattern</span>\
                                <span class="p">(</span><span class="n">param_value</span><span class="p">,</span> <span class="n">iter_pattern</span><span class="p">,</span> <span class="n">vc_file</span><span class="p">)</span>
                                <span class="k">if</span> <span class="n">status</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">res_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                                    <span class="k">if</span> <span class="n">identical</span><span class="p">:</span>
                                        <span class="k">for</span> <span class="n">cnt</span> <span class="ow">in</span> <span class="nb">range</span>\
                                        <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">res_vfytext_list</span><span class="p">)):</span>
                                            <span class="n">verify_params_list</span>\
                                            <span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="n">cnt</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">res_list</span><span class="p">[</span><span class="n">cnt</span><span class="p">]</span>
                                    <span class="k">else</span><span class="p">:</span>
                                        <span class="n">param_list</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">res_list</span>
                                <span class="k">else</span><span class="p">:</span>
                                    <span class="c1"># If there were problems in resolving iter</span>
                                    <span class="c1"># patterns of the found, then set a flag to</span>
                                    <span class="c1"># mark the verification text as False</span>
                                    <span class="n">error</span> <span class="o">=</span> <span class="kc">True</span>
                                    <span class="n">error_list</span> <span class="o">=</span> <span class="n">res_list</span>
                            <span class="k">else</span><span class="p">:</span>
                                <span class="c1"># If iter pattern not provided in found, then</span>
                                <span class="c1"># repeat found value n times where n is no of</span>
                                <span class="c1"># times the search was repeated.</span>
                                <span class="k">if</span> <span class="ow">not</span> <span class="n">identical</span><span class="p">:</span>
                                    <span class="n">res_list</span> <span class="o">=</span> <span class="p">[]</span>
                                    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ref_length</span><span class="p">):</span>
                                        <span class="n">res_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">param_value</span><span class="p">)</span>
                                    <span class="n">param_list</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">res_list</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># If there were errors in resolving the iter</span>
                        <span class="c1"># patterns of the search then set a flag to mark</span>
                        <span class="c1"># verification text as False.</span>
                        <span class="n">error</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="n">error_list</span> <span class="o">=</span> <span class="n">res_vfytext_list</span>

                    <span class="k">if</span> <span class="n">error</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">identical</span><span class="p">:</span>
                            <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">error_list</span><span class="p">)):</span>
                                <span class="n">verify_text_list</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="n">num</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

                        <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># if there were any problems in resolving the iteration</span>
                        <span class="c1"># patterns or if none of nodes in iter pattern are</span>
                        <span class="c1"># available in varconfig file,i.e.resolved_cmd_list=[],</span>
                        <span class="c1"># mark verify search as False, dont care to resolve</span>
                        <span class="c1"># other verify parameters. return details dict</span>
                            <span class="n">cur_verify_text_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">details_dict</span></div>

<div class="viewcode-block" id="TestDataIterations.arrange_per_td_block"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestDataIterations.arrange_per_td_block">[docs]</a>    <span class="k">def</span> <span class="nf">arrange_per_td_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_loc_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Rearrange details_dict values as per cmd_loc_list</span>

<span class="sd">        Returns updated details_dict with expanded values</span>
<span class="sd">        arranged in per_td_block order</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_validate_cmd_loc_list</span><span class="p">(</span><span class="n">cmd_loc_list</span><span class="p">)</span>
        <span class="n">cmd_lst_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s1">&#39;command_list&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">status</span> <span class="ow">is</span> <span class="kc">False</span> <span class="ow">or</span> <span class="n">cmd_lst_length</span> <span class="o">!=</span> <span class="n">cmd_loc_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">details_dict</span>

        <span class="n">new_details_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:[]</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">details_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()}</span>
        <span class="n">new_cmd_loc_list</span> <span class="o">=</span> <span class="n">cmd_loc_list</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="s1">&#39;command_list&#39;</span><span class="p">])</span> <span class="o">&gt;</span>\
        <span class="nb">len</span><span class="p">(</span><span class="n">new_details_dict</span><span class="p">[</span><span class="s1">&#39;command_list&#39;</span><span class="p">]):</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">loc</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">new_cmd_loc_list</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">loc</span> <span class="o">&lt;</span> <span class="n">cmd_loc_list</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
                    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">details_dict</span><span class="p">:</span>
                        <span class="n">new_details_dict</span><span class="p">[</span><span class="n">val</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">details_dict</span><span class="p">[</span><span class="n">val</span><span class="p">][</span><span class="n">loc</span><span class="p">])</span>
                    <span class="n">new_cmd_loc_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">new_details_dict</span></div>

<div class="viewcode-block" id="TestDataIterations.repeat_per_td_block"><a class="viewcode-back" href="../../../Framework.ClassUtils.html#Framework.ClassUtils.testdata_class.TestDataIterations.repeat_per_td_block">[docs]</a>    <span class="k">def</span> <span class="nf">repeat_per_td_block</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_loc_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Find the max iteration count(td block) from cmd_loc_list.</span>
<span class="sd">        Expand all command values in details_dict for &#39;repeat_count&#39;</span>
<span class="sd">        times if repeat tag is &#39;yes&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Get repeat_count(largest delta between two consecutive</span>
        <span class="c1"># values in cmd_loc_list) from cmd_loc_list</span>
        <span class="n">repeat_count</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">val1</span> <span class="o">-</span> <span class="n">val2</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">)</span> <span class="ow">in</span>\
                               <span class="nb">zip</span><span class="p">(</span><span class="n">cmd_loc_list</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">cmd_loc_list</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
        <span class="n">repeat_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="s1">&#39;repeat_list&#39;</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">repeat_val</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">repeat_list</span><span class="p">):</span>
            <span class="c1"># Proceed only if repeat tag is &#39;y&#39; and the command index is</span>
            <span class="c1"># available in cmd_loc_list</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">repeat_val</span><span class="p">,</span><span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> \
            <span class="n">repeat_val</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">cmd_loc_list</span><span class="p">:</span>
                <span class="n">cmd_pos</span> <span class="o">=</span> <span class="n">cmd_loc_list</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="c1"># Update cmd positions by adding repeat_count-1 to</span>
                <span class="c1"># remaining values in cmd_loc_list</span>
                <span class="n">cmd_loc_list</span><span class="p">[</span><span class="n">cmd_pos</span><span class="p">:]</span> <span class="o">=</span> <span class="p">[</span><span class="n">val</span><span class="o">+</span><span class="n">repeat_count</span><span class="o">-</span><span class="mi">1</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span>
                                          <span class="n">cmd_loc_list</span><span class="p">[</span><span class="n">cmd_pos</span><span class="p">:]]</span>
                <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">CMD_PARAMS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">param_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span>
                    <span class="n">element</span> <span class="o">=</span> <span class="n">param_list</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">param</span> <span class="o">==</span> <span class="s1">&#39;repeat_list&#39;</span><span class="p">:</span>
                        <span class="n">element</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="n">param_list</span><span class="p">[</span><span class="n">index</span><span class="p">:</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">element</span><span class="p">]</span><span class="o">*</span><span class="n">repeat_count</span>

        <span class="k">return</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">cmd_loc_list</span></div>


<span class="c1">###################</span>
<span class="c1"># Private methods</span>
<span class="c1">###################</span>

    <span class="k">def</span> <span class="nf">_validate_cmd_iterpattern</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">cmd_iter_pattern</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate the different iteration patterns appearing</span>
<span class="sd">        on the command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># A command can have multiple iteration strings in it.</span>
        <span class="c1"># When more that one iteration string is used in a command</span>
        <span class="c1"># all the strings should be same.</span>
        <span class="c1"># In short mix of different iteration strings within a</span>
        <span class="c1"># command is not supported.</span>

        <span class="n">status</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">var_pat_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_varpat_list</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
        <span class="n">iter_pattern_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_iterpattern_list</span><span class="p">(</span><span class="n">var_pat_list</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">pat</span> <span class="ow">in</span> <span class="n">iter_pattern_list</span><span class="p">:</span>
            <span class="n">result</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">pat</span> <span class="o">==</span> <span class="n">cmd_iter_pattern</span> <span class="k">else</span> <span class="kc">False</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
                <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;Command: </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span>
                <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;Mix of different iteration patterns is &quot;</span>\
                            <span class="s2">&quot;not supported within a command &quot;</span>\
                            <span class="s2">&quot;[</span><span class="si">{0}</span><span class="s2"> != </span><span class="si">{1}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pat</span><span class="p">,</span> <span class="n">cmd_iter_pattern</span><span class="p">))</span>
            <span class="n">status</span> <span class="o">=</span> <span class="n">status</span> <span class="ow">and</span> <span class="n">result</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">_validate_params_iterpattern</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span>
                                     <span class="n">cmd_iter_pattern</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate the iteration patterns in command</span>
<span class="sd">        parameters, with the iteration pattern of the command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">status</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">excl_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">,</span> <span class="s2">&quot;verify_context_list&quot;</span><span class="p">,</span>
                     <span class="s2">&quot;verify_on_list&quot;</span><span class="p">,</span> <span class="s2">&quot;vc_file_list&quot;</span><span class="p">]</span>

        <span class="c1"># if the command does not have an iteration other command</span>
        <span class="c1"># parameters also should not have any iteration pattern</span>
        <span class="c1"># However the verification parameters can have an iterations</span>
        <span class="c1"># even if the command does not have iterations</span>

        <span class="c1"># if the cmd has an iteration pattern then</span>
        <span class="c1"># the other command parameters may or may not have iteration pattern</span>
        <span class="c1"># and if they do it should be same as the iteration pattern of cmd</span>
        <span class="n">supported_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">]</span> <span class="k">if</span> <span class="n">cmd_iter_pattern</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span>\
        <span class="k">else</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">cmd_iter_pattern</span><span class="p">]</span>
               

        <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">attrib</span> <span class="ow">in</span> <span class="n">CMD_PARAMS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">param</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">excl_list</span><span class="p">:</span>
                <span class="n">element</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">index</span><span class="p">]</span>

                <span class="n">element_iter_pattern</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_iteration_pattern</span><span class="p">(</span><span class="n">element</span><span class="p">)</span> \
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">element</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>

                <span class="n">result</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">element_iter_pattern</span> <span class="ow">in</span> <span class="n">supported_patterns</span>\
                <span class="k">else</span> <span class="kc">False</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
                    <span class="n">err_msg1</span> <span class="o">=</span> <span class="s2">&quot;Command &#39;</span><span class="si">{0}</span><span class="s2">&#39; does not have iterations, &quot;</span>\
                    <span class="s2">&quot;So iterations are not allowed in other command params &quot;</span>\
                    <span class="s2">&quot;, please remove iterations from &#39;</span><span class="si">{1}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">attrib</span><span class="p">)</span>

                    <span class="n">err_msg2</span> <span class="o">=</span> <span class="s2">&quot;Iteration patterns used in cmd parameters &quot;</span>\
                    <span class="s2">&quot;should match the iteration pattern used in the cmd=</span><span class="si">{0}</span><span class="s2"> &quot;</span>\
                    <span class="s2">&quot;please check iterations in &#39;</span><span class="si">{1}</span><span class="s2">&#39;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">attrib</span><span class="p">)</span>

                    <span class="n">err_msg</span> <span class="o">=</span> <span class="n">err_msg1</span> <span class="k">if</span> <span class="n">cmd_iter_pattern</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> <span class="k">else</span> <span class="n">err_msg2</span>
                    <span class="n">pNote</span><span class="p">(</span><span class="n">err_msg</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">)</span>
                <span class="n">status</span> <span class="o">=</span> <span class="n">result</span> <span class="ow">and</span> <span class="n">status</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">_validate_vfysearch_iterpattern</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate the iteration pattern provided in each verification search</span>
<span class="sd">        for the command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">final_status</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">verify_text_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">index</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">verify_text_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">verify_text_list</span><span class="p">)):</span>
                <span class="n">status</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="n">verify_text</span> <span class="o">=</span> <span class="n">verify_text_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

                <span class="n">vfy_iter_pattern</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_iteration_pattern</span><span class="p">(</span><span class="n">verify_text</span><span class="p">)</span> \
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">verify_text</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>

                <span class="k">if</span> <span class="n">vfy_iter_pattern</span> <span class="ow">is</span> <span class="ow">not</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                    <span class="n">var_pat_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_varpat_list</span><span class="p">(</span><span class="n">verify_text</span><span class="p">)</span>
                    <span class="n">iter_pattern_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_iterpattern_list</span><span class="p">(</span><span class="n">var_pat_list</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">pat</span> <span class="ow">in</span> <span class="n">iter_pattern_list</span><span class="p">:</span>
                        <span class="n">result</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">pat</span> <span class="o">==</span> <span class="n">vfy_iter_pattern</span> <span class="k">else</span> <span class="kc">False</span>
                        <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
                            <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;Command: </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span>
                            <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;Mix of different iteration patterns is &quot;</span>\
                                        <span class="s2">&quot;not supported within a verification search &quot;</span>\
                                        <span class="s2">&quot;[</span><span class="si">{0}</span><span class="s2"> != </span><span class="si">{1}</span><span class="s2">]&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pat</span><span class="p">,</span> <span class="n">vfy_iter_pattern</span><span class="p">))</span>
                        <span class="n">status</span> <span class="o">=</span> <span class="n">status</span> <span class="ow">and</span> <span class="n">result</span>
                <span class="n">final_status</span> <span class="o">=</span> <span class="n">status</span> <span class="ow">and</span> <span class="n">final_status</span>
        <span class="k">return</span> <span class="n">final_status</span>


    <span class="k">def</span> <span class="nf">_validate_vfyparams_iterpattern</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">details_dict</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate the iter patterns provided in the verification</span>
<span class="sd">        search and its parameters (found, verify_on)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">status</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">verify_text_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">][</span><span class="n">index</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">verify_text_list</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">verify_text_list</span><span class="p">)):</span>
                <span class="n">verify_text</span> <span class="o">=</span> <span class="n">verify_text_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">vfy_iter_pattern</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_iteration_pattern</span><span class="p">(</span><span class="n">verify_text</span><span class="p">)</span> \
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">verify_text</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>

                <span class="n">supported_patterns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">]</span> <span class="k">if</span> <span class="n">vfy_iter_pattern</span> <span class="ow">is</span> <span class="s2">&quot;&quot;</span>\
                <span class="k">else</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">vfy_iter_pattern</span><span class="p">]</span>

                <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">VERIFY_PARAMS</span><span class="p">:</span>
                    <span class="n">param_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">][</span><span class="n">index</span><span class="p">]</span>
                    <span class="n">param_value</span> <span class="o">=</span> <span class="n">param_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

                    <span class="n">param_iter_pattern</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_iteration_pattern</span>\
                    <span class="p">(</span><span class="n">param_value</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">param_value</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> \
                    <span class="k">else</span> <span class="s2">&quot;&quot;</span>

                    <span class="n">result</span> <span class="o">=</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">param_iter_pattern</span> <span class="ow">in</span> <span class="n">supported_patterns</span>\
                    <span class="k">else</span> <span class="kc">False</span>

                    <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
                        <span class="n">err_msg1</span> <span class="o">=</span> <span class="s2">&quot;Verification search &#39;</span><span class="si">{0}</span><span class="s2">&#39; for cmd=</span><span class="si">{1}</span><span class="s2"> &quot;</span>\
                        <span class="s2">&quot;does not have iterations, So iterations are not &quot;</span>\
                        <span class="s2">&quot;allowed in other verification related params&quot;</span>\
                        <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">verify_text</span><span class="p">,</span><span class="n">cmd</span><span class="p">)</span>

                        <span class="n">err_msg2</span> <span class="o">=</span> <span class="s2">&quot;Iteration patterns used in verification &quot;</span>\
                        <span class="s2">&quot;related parameters should match the iteration &quot;</span>\
                        <span class="s2">&quot;pattern used in the verification search=</span><span class="si">{0}</span><span class="s2"> please &quot;</span>\
                        <span class="s2">&quot;check iterations in the verify sections of cmd=</span><span class="si">{1}</span><span class="s2">&quot;</span>\
                        <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">verify_text</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span>

                        <span class="n">err_msg</span> <span class="o">=</span> <span class="n">err_msg1</span> <span class="k">if</span> <span class="n">vfy_iter_pattern</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span> \
                        <span class="k">else</span> <span class="n">err_msg2</span>
                        <span class="n">pNote</span><span class="p">(</span><span class="n">err_msg</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">)</span>
                    <span class="n">status</span> <span class="o">=</span> <span class="n">result</span> <span class="ow">and</span> <span class="n">status</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_varpat_list</span><span class="p">(</span><span class="n">cmd</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the list of variable patterns for the given</span>
<span class="sd">        command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">var_pat_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">var_search</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;.*(\${(.*)}).*&quot;</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">var_search</span><span class="p">:</span>
                <span class="n">var_pat_list</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\${([^}]*)}&quot;</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">var_pat_list</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_iterpattern_list</span><span class="p">(</span><span class="n">var_pat_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Get the iteration pattern list for each command&quot;&quot;&quot;</span>
        <span class="n">iter_pattern</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="n">iter_pat_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">var_pat</span> <span class="ow">in</span> <span class="n">var_pat_list</span><span class="p">:</span>
            <span class="n">nested_string_list</span> <span class="o">=</span> <span class="n">var_pat</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
            <span class="c1">#split the variable pattern on a space to extract</span>
            <span class="c1"># individual words from the pattern.</span>
            <span class="c1"># Resulting in a posiibility of nested variable patter</span>
            <span class="c1"># like network1.ne1.${network1.ne1.shel+.id}</span>
            <span class="k">for</span> <span class="n">nested_string</span> <span class="ow">in</span> <span class="n">nested_string_list</span><span class="p">:</span>
                <span class="c1">#split the nested string on the ${ to resolved nested strings</span>
                <span class="n">string_list</span> <span class="o">=</span> <span class="n">nested_string</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;${&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">string</span> <span class="ow">in</span> <span class="n">string_list</span><span class="p">:</span>
                    <span class="c1"># extract the string from beginning till the last +</span>
                    <span class="n">plus_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;.*(\+)&quot;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">plus_match</span><span class="p">:</span>
                        <span class="n">iter_pattern</span> <span class="o">=</span> <span class="n">plus_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                        <span class="n">iter_pattern</span> <span class="o">=</span> <span class="n">iter_pattern</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;${&quot;</span><span class="p">)</span>
                        <span class="n">iter_pat_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">iter_pattern</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">iter_pat_list</span>

    <span class="k">def</span> <span class="nf">_expand_iter_pattern</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">iter_pattern</span><span class="p">,</span> <span class="n">vc_file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Expand the iteration patterns in a command</span>
<span class="sd">        and returns a new list with the iteration</span>
<span class="sd">        patterns in the command replaced with actual values</span>
<span class="sd">        from the vc_file.</span>
<span class="sd">        If there were any problems in resolving the iteration patterns</span>
<span class="sd">        then status is set to False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">resolved_cmd_list</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="c1"># get the list of </span>
        <span class="c1"># 1. parent names (i.e. the value of name attribute of the parents</span>
        <span class="c1">#    in the iter pattern</span>
        <span class="c1"># 2. parent list i.e. the xml node values of the parents provided</span>
        <span class="c1">#    in the iter pattern.</span>
        <span class="c1"># 3. iter list i.e. the the list of nodes to be iterated upon.</span>
        <span class="n">name_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_parent_name_list</span><span class="p">(</span><span class="n">iter_pattern</span><span class="p">)</span>
        <span class="n">parent_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_iter_parents</span><span class="p">(</span><span class="n">name_list</span><span class="p">,</span> <span class="n">vc_file</span><span class="p">)</span>
        <span class="n">iter_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_iter_list</span><span class="p">(</span><span class="n">iter_pattern</span><span class="p">)</span>

        <span class="c1"># If there are any problems in finding the parent nodes in the vc_file</span>
        <span class="c1"># set status = False</span>
        <span class="n">status</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parent_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">name_list</span><span class="p">)</span> <span class="o">==</span><span class="mi">0</span> \
        <span class="k">else</span> <span class="kc">True</span>
        
        <span class="k">if</span> <span class="n">status</span><span class="p">:</span>
            <span class="c1"># initialize the last parent name to the name of the first parent</span>
            <span class="c1"># in the parent list, iterate over the list and create a dotted</span>
            <span class="c1"># name notation like firstparent.secondparent.thirdparent.. etc.</span>
            <span class="n">last_parent_name</span> <span class="o">=</span> <span class="n">name_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">name_list</span><span class="p">)):</span>
                <span class="n">last_parent_name</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">.</span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">last_parent_name</span><span class="p">,</span> <span class="n">name_list</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    
            <span class="n">parent_name_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">last_parent_name</span><span class="p">]</span>
            <span class="n">parent_node_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">parent_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>

            <span class="n">replacement_list</span><span class="p">,</span> <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_replacement_list</span>\
            <span class="p">(</span><span class="n">iter_list</span><span class="p">,</span> <span class="n">parent_node_list</span><span class="p">,</span> <span class="n">parent_name_list</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">status</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">string</span> <span class="ow">in</span> <span class="n">replacement_list</span><span class="p">:</span>
                    <span class="n">new_cmd</span> <span class="o">=</span> <span class="n">cmd</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">iter_pattern</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
                    <span class="n">resolved_cmd_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_cmd</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">resolved_cmd_list</span><span class="p">,</span> <span class="n">status</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_parent_name_list</span><span class="p">(</span><span class="n">cmd_iter_pattern</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the name list of parents from the</span>
<span class="sd">        cmd_iter_pattern.</span>
<span class="sd">        Note: Here no check is done to verify if node with</span>
<span class="sd">        the provided name exists in the vc_file. The check will</span>
<span class="sd">        be done while getting the parent_node_list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parent_name_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">name_list</span> <span class="o">=</span> <span class="n">cmd_iter_pattern</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">name_list</span><span class="p">:</span>
<span class="c1">#             cur_parent_name = &quot;&quot; if len(parent_name_list) == 0\</span>
<span class="c1">#             else parent_name_list[-1]</span>

            <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">):</span>
                <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
<span class="c1">#                 parent_name = name if cur_parent_name == &quot;&quot;\</span>
<span class="c1">#                 else &quot;{0}.{1}&quot;.format(cur_parent_name, name)</span>
                <span class="n">parent_name_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">parent_name_list</span>

    <span class="k">def</span> <span class="nf">_get_iter_parents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_name_list</span><span class="p">,</span> <span class="n">vc_file</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the parent node list from the</span>
<span class="sd">        cmd_iter_pattern</span>
<span class="sd">        Note: Here check is done to verify if the node</span>
<span class="sd">        with the provided name exists under the proper</span>
<span class="sd">        parent in the vc_file.</span>
<span class="sd">        If any of the child node does not exist then</span>
<span class="sd">        an empty list is returned.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parent_node_list</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Get the root of vc_file if there are problems is getting the root</span>
        <span class="c1"># catch the exception and assign root=None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">root</span> <span class="o">=</span> <span class="n">xml_Utils</span><span class="o">.</span><span class="n">getRoot</span><span class="p">(</span><span class="n">vc_file</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exception</span><span class="p">:</span>
            <span class="n">root</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">print_exception</span><span class="p">(</span><span class="n">exception</span><span class="p">)</span>

        <span class="c1"># initialize parent as root</span>
        <span class="n">parent</span> <span class="o">=</span> <span class="n">root</span>
        <span class="c1"># for each name in the parent_name list</span>
        <span class="c1"># find the element with same name under current parent in vc_file</span>
        <span class="c1"># if element could not be found assign parent_node_list =[]</span>
        <span class="c1"># if element could be found add it to the parent_node_list</span>
        <span class="c1"># and make this element as the parent for the next iteration</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">parent_name_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">False</span><span class="p">:</span>
                <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_node_with_name</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">node</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">False</span><span class="p">:</span>
                    <span class="n">parent</span> <span class="o">=</span> <span class="n">node</span>
                    <span class="n">parent_node_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;Could not find node=</span><span class="si">{0}</span><span class="s2"> under parent=</span><span class="si">{1}</span><span class="s2"> &quot;</span>\
                                <span class="s2">&quot;in file=</span><span class="si">{2}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">parent</span><span class="o">.</span><span class="n">tag</span><span class="p">,</span> <span class="n">vc_file</span><span class="p">))</span>
                    <span class="n">parent_node_list</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;Error while parsing the variable config file=&quot;</span>\
                            <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">vc_file</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">parent_node_list</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_iter_list</span><span class="p">(</span><span class="n">cmd_iter_pattern</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the iter list from the cmd_iter_pattern</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">iter_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">node_list</span> <span class="o">=</span> <span class="n">cmd_iter_pattern</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">node_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">):</span>
                <span class="n">iter_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">iter_list</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_replacement_list</span><span class="p">(</span><span class="n">iter_list</span><span class="p">,</span> <span class="n">pnode_list</span><span class="p">,</span> <span class="n">pname_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the replacement list for a command</span>
<span class="sd">        based on its iteration pattern</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># THis algorithm fixes the intial parent_node and parent_names as</span>
        <span class="c1"># Then for each iteration requested in the iter_list</span>
        <span class="c1"># finds all the child nodes under the initial parent</span>
        <span class="c1"># IN subsequent iterations the child node list becomes the parent_list</span>
        <span class="c1"># for the next element in the iter_list.</span>
        <span class="n">status</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">iter_list</span><span class="p">)):</span>
            <span class="n">child_tag</span> <span class="o">=</span> <span class="n">iter_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
            <span class="n">replacement_list</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">new_pnode_list</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">new_pname_list</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">pnode_list</span><span class="p">)):</span>
                <span class="n">pnode</span> <span class="o">=</span> <span class="n">pnode_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">pname</span> <span class="o">=</span> <span class="n">pname_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">cnode_list</span> <span class="o">=</span> <span class="n">pnode</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">child_tag</span><span class="p">)</span>
                <span class="c1"># If the user has requested iteration over all child nodes</span>
                <span class="c1"># of a particular node in the varconfig file, and while</span>
                <span class="c1"># parsing the varconfig file there are no child nodes</span>
                <span class="c1"># for that parent, then it is not a failure scenario.</span>
                <span class="c1"># It is understood that user wnats tot use all child nodes under</span>
                <span class="c1"># the specific node if available, so we do not mark iter pattern</span>
                <span class="c1"># resoltions as False but simply continue.</span>
                <span class="n">result</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cnode_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">True</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
                    <span class="n">pNote</span><span class="p">(</span><span class="s2">&quot;Could not find child=</span><span class="si">{0}</span><span class="s2"> under parent=</span><span class="si">{1}</span><span class="s2"> in &quot;</span>\
                          <span class="s2">&quot;variable config file&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">child_tag</span><span class="p">,</span> <span class="n">pname</span><span class="p">),</span> 
                          <span class="s2">&quot;error&quot;</span><span class="p">)</span>
                    <span class="k">continue</span>
                <span class="k">for</span> <span class="n">cnode</span> <span class="ow">in</span> <span class="n">cnode_list</span><span class="p">:</span>
                    <span class="n">cname</span> <span class="o">=</span> <span class="n">cnode</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                    <span class="n">result</span> <span class="o">=</span> <span class="kc">False</span> <span class="k">if</span> <span class="n">cname</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">True</span>
                    <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
                        <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">.</span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pname</span><span class="p">,</span> <span class="n">cname</span><span class="p">)</span>
                        <span class="n">new_pnode_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cnode</span><span class="p">)</span>
                        <span class="n">new_pname_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                        <span class="n">replacement_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="c1"># If name attribute is not available in the var config</span>
                        <span class="c1"># file for any child modes, that means user has provided</span>
                        <span class="c1"># a child he wants to use, but format is incorrect</span>
                        <span class="c1"># in this case resolving cmd iterations will be marked</span>
                        <span class="c1"># as false because without the name value fetching the</span>
                        <span class="c1"># data for the child is impossible.</span>
                        <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;&#39;name&#39; attribute is essential to &quot;</span>\
                                    <span class="s2">&quot;identify a node in the variable &quot;</span>\
                                    <span class="s2">&quot;file, &#39;name&#39; attribute is missing &quot;</span>\
                                    <span class="s2">&quot;in some of the &#39;</span><span class="si">{0}</span><span class="s2">&#39; nodes under </span><span class="si">{1}</span><span class="s2">&quot;</span>\
                                    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">child_tag</span><span class="p">,</span> <span class="n">pname</span><span class="p">))</span>
                        <span class="n">status</span> <span class="o">=</span> <span class="kc">False</span>
                        <span class="k">continue</span>
            <span class="n">pnode_list</span> <span class="o">=</span> <span class="n">new_pnode_list</span>
            <span class="n">pname_list</span> <span class="o">=</span> <span class="n">new_pname_list</span>
        <span class="k">return</span> <span class="n">replacement_list</span><span class="p">,</span> <span class="n">status</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_find_node_with_name</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Find the node with provided name under the given</span>
<span class="sd">        parent in an xml file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">value</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">parent</span><span class="p">:</span>
            <span class="n">child_name</span> <span class="o">=</span> <span class="n">child</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">child_name</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">child</span>
                <span class="k">break</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_check_list_lengths</span><span class="p">(</span><span class="n">details_dict</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Verify whether cmd, cmd_params, verify_search, verify_params are</span>
<span class="sd">        of same length</span>

<span class="sd">        Verify whether each list in verify_search, verify_params are of</span>
<span class="sd">        same length</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">status</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="n">cmd_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;command_list&quot;</span><span class="p">]</span>
        <span class="n">cmd_length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">cmd_list</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">CMD_PARAMS</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">param_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">param</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">param_list</span><span class="p">)</span> <span class="o">==</span> <span class="n">cmd_length</span><span class="p">:</span>
                <span class="n">cmd_status</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">cmd_status</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;number of </span><span class="si">{0}</span><span class="s2"> did not match number of commands&quot;</span>\
                            <span class="s2">&quot;=</span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="n">cmd_length</span><span class="p">))</span>

        <span class="n">verify_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="s2">&quot;verify_text_list&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">search_list</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">verify_list</span><span class="p">):</span>
            <span class="n">vfy_status</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">for</span> <span class="n">vfy_param</span> <span class="ow">in</span> <span class="n">VERIFY_PARAMS</span><span class="p">:</span>
                <span class="n">vfy_param_list</span> <span class="o">=</span> <span class="n">details_dict</span><span class="p">[</span><span class="n">vfy_param</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">search_list</span>  <span class="ow">and</span> <span class="n">vfy_param_list</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">vfy_param_list</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">search_list</span><span class="p">):</span>
                        <span class="n">vfy_status</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">vfy_status</span> <span class="o">=</span> <span class="kc">False</span>
                        <span class="n">print_error</span><span class="p">(</span><span class="s2">&quot;length of </span><span class="si">{0}</span><span class="s2"> did not match the no of &quot;</span>\
                                    <span class="s2">&quot;verification searches&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">vfy_param</span><span class="p">))</span>
        <span class="n">status</span> <span class="o">=</span> <span class="n">status</span> <span class="ow">and</span> <span class="n">cmd_status</span> <span class="ow">and</span> <span class="n">vfy_status</span>


        <span class="k">return</span> <span class="n">status</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_validate_cmd_loc_list</span><span class="p">(</span><span class="n">cmd_loc_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate cmd_loc_list.</span>
<span class="sd">        Returns False(bool) when</span>
<span class="sd">            1. length of cmd_loc_list is less than 2</span>
<span class="sd">            2. first element of cmd_loc_list is not zero</span>
<span class="sd">            3. cmd_loc_list values are not in ascending order</span>
<span class="sd">            4. cmd_loc_list has duplicate value(s)</span>
<span class="sd">        else return True(bool)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">status</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">cmd_loc_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">cmd_loc_list</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="ow">or</span> <span class="n">cmd_loc_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cmd_loc_list</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                    <span class="k">if</span> <span class="n">cmd_loc_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">cmd_loc_list</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>
                        <span class="n">status</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">status</span></div>
</pre></div>

           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, FNC.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'Ninja',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>